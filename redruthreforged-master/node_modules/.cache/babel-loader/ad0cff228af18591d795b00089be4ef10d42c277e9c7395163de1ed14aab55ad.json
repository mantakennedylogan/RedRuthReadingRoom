{"ast":null,"code":"var _jsxFileName = \"C:\\\\csSchoolWork\\\\RedRuthReadingRoom\\\\redruthreforged-master\\\\src\\\\Components\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { AccountContext } from \"./Account\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  let location = useLocation();\n  const {\n    status,\n    state\n  } = useContext(AccountContext);\n  console.log(\"LoggedIn state: \", state, status);\n  console.log(\"status: \" + localStorage.getItem(\"status\"));\n  console.log(\"state: \" + localStorage.getItem(\"state\"));\n  if (localStorage.getItem(\"state\") == 0) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 16\n    }, this);\n  } else {\n    return children;\n  }\n};\n_s(ProtectedRoute, \"2y8lMkaxHNTbI4d76VjzgTLybrY=\", false, function () {\n  return [useLocation];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Navigate","useLocation","AccountContext","ProtectedRoute","children","location","status","state","console","log","localStorage","getItem","from"],"sources":["C:/csSchoolWork/RedRuthReadingRoom/redruthreforged-master/src/Components/ProtectedRoute.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport {Navigate, useLocation} from \"react-router-dom\"\r\nimport { AccountContext } from \"./Account\";\r\n\r\n\r\nconst ProtectedRoute = ({children}) => {\r\n    let location = useLocation();\r\n    const { status, state } = useContext(AccountContext);\r\n    console.log(\"LoggedIn state: \", state, status);\r\n    console.log(\"status: \" + localStorage.getItem(\"status\"));\r\n    console.log(\"state: \" + localStorage.getItem(\"state\"));\r\n\r\n    if(localStorage.getItem(\"state\") == 0) {\r\n        return <Navigate to=\"/login\" state={{ from: location}} replace />\r\n    } else {\r\n        return children\r\n    }\r\n\r\n};\r\n\r\nexport default ProtectedRoute;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAAQC,QAAQ,EAAEC,WAAW,QAAO,kBAAkB;AACtD,SAASC,cAAc,QAAQ,WAAW;AAAC;AAG3C,MAAMC,cAAc,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC;EAC9B,IAAIC,QAAQ,GAAGJ,WAAW,EAAE;EAC5B,MAAM;IAAEK,MAAM;IAAEC;EAAM,CAAC,GAAGV,UAAU,CAACK,cAAc,CAAC;EACpDM,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,KAAK,EAAED,MAAM,CAAC;EAC9CE,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;EACxDH,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EAEtD,IAAGD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;IACnC,oBAAO,QAAC,QAAQ;MAAC,EAAE,EAAC,QAAQ;MAAC,KAAK,EAAE;QAAEC,IAAI,EAAEP;MAAQ,CAAE;MAAC,OAAO;IAAA;MAAA;MAAA;MAAA;IAAA,QAAG;EACrE,CAAC,MAAM;IACH,OAAOD,QAAQ;EACnB;AAEJ,CAAC;AAAC,GAbID,cAAc;EAAA,QACDF,WAAW;AAAA;AAAA,KADxBE,cAAc;AAepB,eAAeA,cAAc;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}